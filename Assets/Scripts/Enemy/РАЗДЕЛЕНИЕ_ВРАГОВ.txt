╔═══════════════════════════════════════════════════════════════╗
║  🎯 РАЗДЕЛЕНИЕ ВРАГОВ - КАК ИЗБЕЖАТЬ СЛИПАНИЯ 🎯             ║
╚═══════════════════════════════════════════════════════════════╝


❓ ПРОБЛЕМА:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Когда несколько врагов преследуют игрока, они могут:
  ❌ Толкать друг друга (физические коллизии)
  ❌ Слипаться друг с другом (проходят друг сквозь друга)
  ❌ Накладываться друг на друга визуально


✅ РЕШЕНИЕ:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Добавлена система "Enemy Separation" - умное разделение врагов:

┌────────────────────────────────────────────────────────────┐
│ КАК ЭТО РАБОТАЕТ:                                          │
├────────────────────────────────────────────────────────────┤
│ 1. Каждый враг сканирует область вокруг себя              │
│ 2. Находит других врагов в радиусе                        │
│ 3. Вычисляет вектор отталкивания от них                   │
│ 4. Слегка смещается в сторону, чтобы не слипаться         │
│                                                            │
│ ✅ Враги НЕ толкают друг друга                            │
│ ✅ Враги НЕ слипаются                                     │
│ ✅ Враги выглядят естественно                             │
└────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════


⚙️ ПАРАМЕТРЫ:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌────────────────────────────────────────────────────────────┐
│ Enable Enemy Separation                                    │
├────────────────────────────────────────────────────────────┤
│ ✓ = Включено (рекомендуется)                              │
│ ✗ = Выключено                                              │
│                                                            │
│ Включает/выключает систему разделения врагов              │
└────────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────────┐
│ Separation Radius (по умолчанию: 0.6)                     │
├────────────────────────────────────────────────────────────┤
│ Радиус в юнитах, в пределах которого враги                │
│ начинают отталкиваться друг от друга                      │
│                                                            │
│ 🔧 Рекомендуемые значения:                                │
│   • 0.4 - враги могут подходить близко                    │
│   • 0.6 - стандартное значение (оптимально)               │
│   • 0.8 - враги держатся на расстоянии                    │
└────────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────────┐
│ Separation Force (по умолчанию: 2.0)                      │
├────────────────────────────────────────────────────────────┤
│ Сила отталкивания врагов друг от друга                    │
│                                                            │
│ 🔧 Рекомендуемые значения:                                │
│   • 1.0 - слабое отталкивание (могут слегка наезжать)     │
│   • 2.0 - стандартное значение (оптимально)               │
│   • 3.0 - сильное отталкивание (держатся на расстоянии)   │
└────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════


🎮 ПРИМЕРЫ НАСТРОЙКИ:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌────────────────────────────────────────────────────────────┐
│ РЕЖИМ 1: Стандартный (рекомендуется)                      │
├────────────────────────────────────────────────────────────┤
│ Enable Enemy Separation: ✓                                │
│ Separation Radius: 0.6                                     │
│ Separation Force: 2.0                                      │
│                                                            │
│ ✅ Враги не слипаются                                     │
│ ✅ Естественное расстояние между врагами                  │
│ ✅ Не мешают друг другу при движении                      │
└────────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────────┐
│ РЕЖИМ 2: Плотная толпа                                     │
├────────────────────────────────────────────────────────────┤
│ Enable Enemy Separation: ✓                                │
│ Separation Radius: 0.4                                     │
│ Separation Force: 1.5                                      │
│                                                            │
│ ✅ Враги могут подходить ближе                            │
│ ✅ Создается эффект "орды"                                │
│ ⚠️  Могут слегка наезжать друг на друга                   │
└────────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────────┐
│ РЕЖИМ 3: Держатся на расстоянии                           │
├────────────────────────────────────────────────────────────┤
│ Enable Enemy Separation: ✓                                │
│ Separation Radius: 0.8                                     │
│ Separation Force: 3.0                                      │
│                                                            │
│ ✅ Враги держат большое расстояние                        │
│ ✅ Выглядит более "организованно"                         │
│ ⚠️  Может выглядеть неестественно                         │
└────────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────────┐
│ РЕЖИМ 4: Выключено                                         │
├────────────────────────────────────────────────────────────┤
│ Enable Enemy Separation: ✗                                │
│                                                            │
│ ⚠️  Враги будут слипаться и наезжать друг на друга        │
│ ⚠️  Используйте только если настроите физику коллизий     │
└────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════


🔧 ДОПОЛНИТЕЛЬНАЯ НАСТРОЙКА (опционально):
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌────────────────────────────────────────────────────────────┐
│ ВАРИАНТ А: Отключить физические коллизии между врагами    │
├────────────────────────────────────────────────────────────┤
│ ШАГ 1: Edit → Project Settings → Tags and Layers          │
│ ШАГ 2: Создайте слой "Enemy" (например, Layer 12)         │
│ ШАГ 3: Назначьте слой на префабе Enemy                    │
│ ШАГ 4: Edit → Project Settings → Physics 2D               │
│ ШАГ 5: В Layer Collision Matrix снимите галочку:          │
│        Enemy x Enemy                                       │
│                                                            │
│ ✅ Враги НЕ будут толкать друг друга физически            │
│ ✅ Система Separation будет работать лучше                │
└────────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────────┐
│ ВАРИАНТ Б: Настроить Physics Material                     │
├────────────────────────────────────────────────────────────┤
│ ШАГ 1: Create → Physics Material 2D → "EnemyMaterial"     │
│ ШАГ 2: Установите:                                         │
│        • Friction: 0                                       │
│        • Bounciness: 0                                     │
│ ШАГ 3: Назначьте материал на Rigidbody2D врага            │
│                                                            │
│ ✅ Враги будут скользить мимо друг друга                  │
│ ⚠️  Не полностью решает проблему                          │
└────────────────────────────────────────────────────────────┘


═══════════════════════════════════════════════════════════════


💡 РЕКОМЕНДАЦИИ:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ ИСПОЛЬЗУЙТЕ систему Separation (включена по умолчанию)

✅ НАСТРОЙТЕ параметры под ваш стиль игры:
   • Много врагов? → Уменьшите Separation Radius (0.4-0.5)
   • Мало врагов? → Стандартные значения (0.6, 2.0)

✅ ДОПОЛНИТЕЛЬНО: Отключите физические коллизии Enemy x Enemy
   (через Layer Collision Matrix)

❌ НЕ ОТКЛЮЧАЙТЕ Separation без настройки физики
   (враги будут слипаться)


═══════════════════════════════════════════════════════════════


📊 ВИЗУАЛИЗАЦИЯ:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

БЕЗ РАЗДЕЛЕНИЯ:
    👤 ← Игрок
    │
    🤖🤖 ← Враги слиплись!
    

С РАЗДЕЛЕНИЕМ:
    👤 ← Игрок
    │
    🤖 🤖 ← Враги на расстоянии
    

РАДИУС РАЗДЕЛЕНИЯ:
         0.6
    ┌────────────┐
    │   🤖       │ ← Если другой враг в этом радиусе
    │            │    → Отталкивание активируется
    └────────────┘


═══════════════════════════════════════════════════════════════


🎮 ТЕСТИРОВАНИЕ:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

КАК ПРОВЕРИТЬ ЧТО ВСЕ РАБОТАЕТ:

1. Создайте 3-5 врагов рядом друг с другом
2. Нажмите Play
3. Встаньте так, чтобы враги все шли к вам
4. Наблюдайте:
   ✅ Враги НЕ толкают друг друга
   ✅ Враги держат небольшое расстояние
   ✅ Враги НЕ слипаются в одну точку

ЕСЛИ ВРАГИ ВСЕ РАВНО СЛИПАЮТСЯ:
  → Увеличьте Separation Force (3.0-4.0)
  → Увеличьте Separation Radius (0.8-1.0)

ЕСЛИ ВРАГИ СЛИШКОМ ДАЛЕКО ДРУГ ОТ ДРУГА:
  → Уменьшите Separation Force (1.0-1.5)
  → Уменьшите Separation Radius (0.4-0.5)


═══════════════════════════════════════════════════════════════


✨ ГОТОВО! ВРАГИ БОЛЬШЕ НЕ СЛИПАЮТСЯ! ✨

Система автоматически разделяет врагов, создавая
естественное и приятное визуальное поведение.

Настройте параметры под свой стиль игры!

